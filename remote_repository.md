# Основы работы с удаленным репозиторием

Чтобы иметь возможность совместной работы над каким-либо Git-проектом, необходимо знать как управлять удалёнными репозиториями. Удалённые репозитории — это модификации проекта, которые хранятся в интернете или ещё где-то в сети. Их может быть несколько, каждый из которых как правило доступен для вас либо только на чтение, либо на чтение и запись. Совместная работа включает в себя управление удалёнными репозиториями и помещение (push) и получение (pull) данных в и из них тогда, когда нужно обменяться результатами работы. 

Управление удалёнными репозиториями включает умение добавлять удалённые репозитории, удалять те из них, которые больше не действуют, умение управлять различными удалёнными ветками и прочее. 

## Команда **git clone** — создание копии (удаленного) репозитория

Клонирование в Git — это процесс создания идентичной копии удаленного репозитория Git на локальную машину.Когда мы клонируем репозиторий, все файлы загружаются на локальную машину, но удаленный репозиторий git остается неизменным. Внесение изменений и фиксация их в локальном репозитории (клонированном репозитории) никак не повлияет на удаленный репозиторий, который вы клонировали. Эти изменения, внесенные на локальном компьютере, могут быть синхронизированы с удаленным хранилищем в любое время, когда пользователь захочет.

Многие люди хотят создать общий репозиторий, чтобы позволить команде разработчиков публиковать свой код на GitHub / GitLab / BitBucket и т. д. Репозиторий, загружаемый в сеть для совместной работы, называется вышестоящим репозиторием или центральным репозиторием.

Центральный репозиторий указывает, что все изменения от всех участников помещаются только в этот репозиторий. Таким образом, это самый обновленный экземпляр репозитория самого себя. Иногда это часто называют исходным хранилищем. 

Если проект уже настроен в центральном репозитории, наиболее распространенным способом создать его локальный клон является команда **git clone**. Клонирование, как и команда **git init**, обычно выполняется один раз. Получив рабочую копию, разработчик в дальнейшем выполняет все операции контроля версий из своего локального репозитория.
```
git clone <repo url>
```
Команду **git clone** выполняют для создания копии (клонирования) удаленного репозитория. В качестве параметра в команду **git clone** передается URL-адрес репозитория. 

Git поддерживает несколько различных сетевых протоколов и соответствующих форматов URL-адресов. В этом примере используется SSH-протокол Git. 

URL-адреса SSH в Git имеют следующий шаблон: 
`git@HOSTNAME:USERNAME/REPONAME.git`

Пример URL-адреса SSH в Git имеет вид: 

`git@bitbucket.org:rhyolight/javascript-data-store.git`

а ниже приведены значения шаблонных параметров:

* HOSTNAME: bitbucket.org

* USERNAME: rhyolight

* REPONAME: javascript-data-store

После исполнения команды последние версии файлов из главной ветки удаленного репозитория будут загружены и помещены в новый каталог. Имя нового каталога будет соответствовать параметру REPONAME. В данном случае это javascript-data-store. В каталоге будет вся история удаленного репозитория и только что созданная главная ветка.

## Команды **git fetch и git pull** — извлечение данных из центрального репозитория

Команда **git fetch** загружает коммиты, файлы и ссылки из удаленного репозитория в ваш локальный репозиторий. Извлеките данные с помощью команды `fetch`, если хотите увидеть, над чем работают остальные. Эта команда похожа на команду svn update и позволяет увидеть прогресс в центральном репозитории, но при этом не вынуждает вас выполнять слияние изменений с вашим репозиторием. Извлеченное содержимое в Git остается изолированным от имеющихся локальных данных и совершенно не влияет на локальную разработку. 

Чтобы переключиться на извлеченное содержимое, нужно отдельно запустить команду git checkout. Таким образом, применение команды fetch позволяет безопасно просмотреть коммиты, перед тем как интегрировать их в локальный репозиторий.

Загрузить содержимое из удаленного репозитория можно с помощью двух команд: **git pull и git fetch**. 

Из этих двух команд **git fetch** можно считать «безопасным» вариантом. Она загружает удаленное содержимое, но не обновляет рабочее состояние локального репозитория, оставляя текущую работу нетронутой. Команда **git pull** действует более агрессивно: она загружает удаленное содержимое для активной локальной ветки и сразу выполняет команду **git merge**, создавая коммит слияния для нового удаленного содержимого. Если у вас есть ожидающие изменения, то возникнут конфликты, и будет запущен процесс разрешения конфликтов слияния.

Ее синтаксис выглядит вот так:

```
git fetch /home/username/project
```
В данном примере идет получение изменений из определенного репозитория.

***Некоторые опции git fetch:***

1. Извлечение всех веток из репозитория. При этом также загружаются все необходимые коммиты и файлы из другого репозитория.
   
    ```
    git fetch <remote>
    ```

2. Аналогично команде выше, но данные извлекаются только для указанной ветки.

    ```
    git fetch <remote> <branch>
    ```

3. Мощная команда, которая извлекает все зарегистрированные удаленные репозитории и их ветки.
   
    ```
    git fetch --all
    ```


***git pull***

Команда **git pull** используется для извлечения и загрузки содержимого из удаленного репозитория и немедленного обновления локального репозитория этим содержимым. Слияние удаленных вышестоящих изменений в локальный репозиторий — это обычная задача рабочего процесса, возникающая при совместной работе на основе системы Git. Команда **git pull** на самом деле представляет собой комбинацию двух других команд: **git fetch** и **git merge**. 

На первом этапе **git pull** выполняется команда **git fetch**, ограниченная локальной веткой, на которую указывает *HEAD*. Сразу после загрузки содержимого команда **git pull** выполняет слияние. Для слитого содержимого создается новый коммит, а указатель *HEAD* обновляется и начинает указывать на этот новый коммит.

Ее синтаксис выглядит вот так:

```
git pull
```

***Некоторые опции git pull***

1. Извлечь из указанного удаленного репозитория копию текущей ветки и немедленно слить ее с локальной копией. Эта команда аналогична команде 
`git fetch <удаленный-репозиторий>`, после которой следует команда `git merge origin/<текущая-ветка>`.

    ```
    git pull <remote>
    ```

2. Подобно вызову по умолчанию, извлекает удаленное содержимое, но не создает новый коммит со слитым содержимым.

    ```
    git pull --no-commit <remote>
    ```

3. Аналогично предыдущей команде **git pull**, только вместо команды **git merge** для интеграции удаленной ветки с локальной веткой используется команда **git rebase**.

    ```
    git pull --rebase <remote>
    ```



## Команда **git push** — внесение изменений в удаленный репозиторий

Команда **git push** используется для выгрузки содержимого локального репозитория в удаленный репозиторий. Она позволяет передать коммиты из локального репозитория в удаленный. Эта команда симметрична команде **git fetch**: при извлечении с помощью `fetch` коммиты импортируются в локальные ветки, а при публикации с помощью `push` коммиты экспортируются в удаленные ветки. Настроить удаленные ветки можно с помощью команды **git remote**. Команда `push` может перезаписать изменения, поэтому при ее использовании следует соблюдать осторожность.

Ее синтаксис выглядит вот так:

```
git push
```

![git push](https://cdn.javarush.ru/images/article/46c49cfa-afb0-4b3a-b95f-7506a199a189/800.webp)



***Некоторые параметры git push***

1. Публикация указанной ветки в удаленном репозитории вместе со всеми необходимыми коммитами и внутренними объектами. Эта команда создает локальную ветку в репозитории назначения. Чтобы предотвратить перезапись коммитов, Git не позволит опубликовать данные, если в репозитории назначения нельзя выполнить ускоренное слияние.

    ```
    git push <remote> <branch>
    ```

2. Аналогично приведенной выше команде, однако данные будут опубликованы принудительно, даже если нельзя выполнить ускоренное слияние. (Не используйте флаг `--force`, если вы не уверены в своих действиях).

    ```
    git push --force <remote> 
    ```


# Итоги главы

* Рассмотрели команды git clone, git fetch, git pull, git push
  
* Узнали часть используемых этими командами параметров















































